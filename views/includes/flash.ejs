<% if(success && success.length) {%>
    <div id="flash-message" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative " role="alert">
        <strong class="font-bold text-center"><%= success %></strong>
        
        <span id="close-button" class="absolute top-0 bottom-0 right-0 px-4 py-3">
          <svg class="fill-current h-6 w-6 text-green-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
            <title>Close</title>
            <path d="M14.348 5.652a1 1 0 00-1.414 0L10 8.586 7.066 5.652a1 1 0 10-1.414 1.414L8.586 10l-2.934 2.934a1 1 0 101.414 1.414L10 11.414l2.934 2.934a1 1 0 001.414-1.414L11.414 10l2.934-2.934a1 1 0 000-1.414z"/>
          </svg>
        </span>
      </div>
    <% }%>
    <% if(error && error.length) {%>
        <div id="flash-message" class="bg-red-200 border border-red-400 text-red-700 px-4 py-3 rounded relative " role="alert">
            <strong class="font-bold text-center"><%= error %></strong>
            
            <span id="close-button" class="absolute top-0 bottom-0 right-0 px-4 py-3">
              <svg class="fill-current h-6 w-6 text-green-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                <title>Close</title>
                <path d="M14.348 5.652a1 1 0 00-1.414 0L10 8.586 7.066 5.652a1 1 0 10-1.414 1.414L8.586 10l-2.934 2.934a1 1 0 101.414 1.414L10 11.414l2.934 2.934a1 1 0 001.414-1.414L11.414 10l2.934-2.934a1 1 0 000-1.414z"/>
              </svg>
            </span>
          </div>
        <% }%>

        <div id="flashMessage" class="fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 hidden z-50">
          <div class="bg-white p-6 rounded-lg shadow-lg w-80 text-center relative">
            <!-- Close Button -->
            <button class="absolute top-2 right-2 text-gray-400 hover:text-gray-600" onclick="closeFlashMessage()">
              <i class="fas fa-times"></i>
            </button>
        
            <!-- Image/Icon -->
            <img src="https://freedesignfile.com/upload/2020/02/Happy-little-boy-cartoon-character-vector.jpg" alt="Success Image" class="mx-auto w-24 sm:w-32 md:w-36 lg:w-40 max-w-full mb-4">
            
            <!-- Message Text -->
            <h2 class="text-xl font-bold mb-2">Success</h2>
            <p class="text-gray-700 mb-4 font-bold"><%=signedIn %></p>
        
            <!-- Continue Button -->
            <button onclick="closeFlashMessage()" class="bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg">
              Continue
            </button>
          </div>
        </div>
        
    <script>
        const closeButton = document.getElementById('close-button');
if (closeButton) {
  closeButton.addEventListener('click', function() {
    document.getElementById('flash-message').style.display = 'none';
  });
}

       // Function to show the flash message after login
function showFlashMessage() {
  const flashMessage = document.getElementById('flashMessage');
  flashMessage.classList.remove('hidden');
}

// Function to close the flash message
function closeFlashMessage() {
  const flashMessage = document.getElementById('flashMessage');
  flashMessage.classList.add('hidden');
}

// Trigger the flash message on page load (after successful login)
window.addEventListener('load', function() {
   const signedInMessage = "<%= signedIn %>";
   if (signedInMessage && signedInMessage.length) {
       showFlashMessage();
   }
});


   </script>    